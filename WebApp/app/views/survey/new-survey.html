
<div class="alert alert-danger col-sm-12" ng-show="errorMessage">
    {{errorMessage}}
</div>
<server-model-error modelstate="modelState"></server-model-error>
<form name="questionFrm" class="form-horizontal" novalidate>
    <div class="form-group row">
        <div class="col-sm-8">
            <input type="text" class="form-control" id="surveyName" name="surveyName" placeholder="Enter survey name" ng-model="surveyModel.surveyName" required/>
             <span class="text-danger" ng-show="questionFrm.surveyName.$touched && questionFrm.surveyName.$error.required">Survey name is required.</span>           
        </div>
        <div class="col-sm-4">
            <button type="button" class="btn btn-success" ng-click="createSurvey()">Create Survey</button>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <span class="panel-title">Add question to survey </span>
        </div>
        <div class="panel-body">
            <div class="form-group row">
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="question" name="surveyQuestion" placeholder="Enter survey question" ng-model="currentSurveyQuestion.surveyQuestionText"
                    required/>
                   <span class="text-danger" ng-show="questionFrm.surveyQuestion.$touched && questionFrm.surveyQuestion.$error.required">Survey question is required.</span>           
   
                </div>
              
            </div>
            <div class="form-group">
                <div class="col-sm-3">
                    <label> Question type: </label>
                </div>
                <div class="col-sm-7"> 
                    <label class="radio-inline"> <input type="radio" name="optradio" value="1" ng-model="currentSurveyQuestion.surveyQuestionType"> Single Answer</label>
                    <label class="radio-inline"> <input type="radio" name="optradio" value="2" ng-model="currentSurveyQuestion.surveyQuestionType">Multiple Answers</label>
                    <label class="radio-inline"> <input type="radio" name="optradio" value="3" ng-model="currentSurveyQuestion.surveyQuestionType">Rating</label>
                </div>
            </div>
            <div class="form-group" ng-hide="!currentSurveyQuestion.surveyOptions.length">
                <div class="col-sm-2">
                    <b>Options: </b>
                </div>
                  <div class="col-sm-1">
                    <button type="button" class="btn btn-default" ng-click="addNewOption()"> <span class="glyphicon glyphicon-plus"></span>   </button>
                </div>
            </div>
            <div ng-repeat="surveyOption in currentSurveyQuestion.surveyOptions track by $index">
                <div class="form-group">
                    <div class=" col-sm-8 ">
                        <input type="text " id="option " name="$index " placeholder="option text " class="form-control" ng-model="surveyOption.optionText "
                        />
                    </div>
                    <div class="col-sm-1">
                        <button type="button " class="btn btn-default " ng-click="removeOption($index) ">
              <span class="glyphicon glyphicon-remove "></span>
           </button>
                    </div>
                </div>
            </div>
            <div class="form-group ">
                <div class="col-sm-4">
                    <button class="btn btn-primary " type="submit " ng-click="addQuestionToSurvey()">Add Question</button>
                </div>
            </div>
        </div>
    </div>
</form>

<table class="table">
    <thead>
        Survey Questions
    </thead>
    <tr>
        <th>
            Question
        </th>
        <th>
            Remove
        </th>
    </tr>
    <tr ng-repeat="question in surveyModel.surveyQuestions track by $index">
        <td> {{question.surveyQuestionText}} </td>
        <td> <button type="button " class="btn btn-default " ng-click="removeQuestion($index) ">
              <span class="glyphicon glyphicon-remove "></span>
           </button> </td>
    </tr>
</table>